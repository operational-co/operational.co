---
title: Build an audit log system in Node.js
slug: build-an-audit-log-system-in-node-js
description: Learn how to record key user actions in Node.js into Operational to build a reliable audit log system quickly.
date: 2024-07-31
tags:
  - nodejs
  - audit
  - logs
icon: üìú
---

## What this article is about

Audit logs help you track who did what and when in your application. In a Node.js service, you might want to know when a user creates, updates, or deletes records for compliance or debugging.

Imagine an e-commerce site where you need a clear history of order operations. A simple audit log captures these actions and stores them centrally.

![Operational in action](https://operational.co/images/pitch/ops_insitu.jpg)

## What is Operational?

Operational is an open-source tool for capturing events in your application. It provides a unified API to send events like user actions, errors, or system updates.

You can use Operational to power dashboards, alerts, and audit trails. All events flow into a central service where you can search, filter, and review them.

## Setting up Operational

1. Go to [app.operational.co](https://app.operational.co) and sign up for a free account.
2. After logging in, navigate to **Settings** and copy your API key.
3. Keep your API key safe. You‚Äôll use it in your Node.js app to authenticate event submissions.

## Code examples in Node.js

Below are examples of sending different audit events using Operational‚Äôs JavaScript SDK. Each snippet shows a common action in an audit log.

```javascript
import Operational from "@operational.co/sdk"

const ops = new Operational("YOUR_API_KEY")

// 1. User creates an order
const payload1 = {
  name: "Order created",
  avatar: "‚úÖ",
  content: "User John Smith created order #12345",
  metadata: { userId: 789, orderId: 12345 }
}
await ops.events.ingest(payload1)

// 2. User updates an order address
const payload2 = {
  name: "Order updated",
  avatar: "‚úèÔ∏è",
  content: "User Jane Doe updated shipping address for order #12345",
  metadata: { userId: 456, orderId: 12345, field: "shippingAddress" }
}
await ops.events.ingest(payload2)

// 3. User deletes an order
const payload3 = {
  name: "Order deleted",
  avatar: "üóëÔ∏è",
  content: "User John Smith deleted order #67890",
  metadata: { userId: 789, orderId: 67890 }
}
await ops.events.ingest(payload3)

// 4. Admin changes user role
const payload4 = {
  name: "Role changed",
  avatar: "üîë",
  content: "Admin Alice Lee updated user Bob Brown to 'manager' role",
  metadata: { adminId: 321, userId: 654, newRole: "manager" }
}
await ops.events.ingest(payload4)
``` 

Each snippet sends a structured event to Operational, capturing the action, who performed it, and related IDs.

## Conclusion

With Operational, you can set up a full audit log in minutes. You‚Äôll get a central view of all important actions in your Node.js app without building your own logging backend. 

Learn more on the [Operational homepage](https://operational.co) or try out snippets in the [playground](https://operational.co/playground). You'll be tracking critical events in no time.